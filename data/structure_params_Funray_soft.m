%  ** Structural dynamics parameters (Funray soft) **

% Disclaimer:
%   SPDX-License-Identifier: GPL-3.0-only
% 
%   Copyright (C) 2024-2025 Yannic Beyer
%   Copyright (C) 2024-2025 TU Braunschweig, Institute of Flight Guidance
% *************************************************************************

param.xyz = [ ...
    0, -0.95, 0; ...
    0, -0.795, 0; ...
    0, -0.65, 0; ...
    0, -0.455, 0; ...
    0, -0.29, 0; ...
    0, -0.07, 0; ...
    0, 0, 0; ...
    0, 0.07, 0; ...
    0, 0.29, 0; ...
    0, 0.455, 0; ...
    0, 0.65, 0; ...
    0, 0.795, 0; ...
    0, 0.95, 0 ...
    ]';

m = [0.067/3,0.067*2/3,0.067*4/3,0.067*4/3,0.067*4/3,0.067,1.45];

delta_y = diff( [ -1, param.xyz(2,1:end/2-0.5) + diff(param.xyz(2,1:end/2+0.5))/2, 0 ] );
Ixx = 1/12*m*0.05^2;
Iyy = 1/12*m.*delta_y.^2;
Izz = Iyy;
% m, x, y, z, Ixx, Iyy, Izz, Ixy, Ixz, Iyz
param.mass = [ ...
    m(1), 0, 0, 0, Ixx(1), Iyy(1), Izz(1), 0, 0, 0; ...
    m(2), 0, 0, 0, Ixx(2), Iyy(2), Izz(2), 0, 0, 0; ...
    m(3), 0, 0, 0, Ixx(3), Iyy(3), Izz(3), 0, 0, 0; ...
    m(4), 0, 0, 0, Ixx(4), Iyy(4), Izz(4), 0, 0, 0; ...
    m(5), 0, 0, 0, Ixx(5), Iyy(5), Izz(5), 0, 0, 0; ...
    m(6), 0, 0, 0, Ixx(6), Iyy(6), Izz(6), 0, 0, 0; ...
    m(7), 0, 0, 0, Ixx(7), Iyy(7), Izz(7), 0, 0, 0; ...
    m(6), 0, 0, 0, Ixx(6), Iyy(6), Izz(6), 0, 0, 0; ...
    m(5), 0, 0, 0, Ixx(5), Iyy(5), Izz(5), 0, 0, 0; ...
    m(4), 0, 0, 0, Ixx(4), Iyy(4), Izz(4), 0, 0, 0; ...
    m(3), 0, 0, 0, Ixx(3), Iyy(3), Izz(3), 0, 0, 0; ...
    m(2), 0, 0, 0, Ixx(2), Iyy(2), Izz(2), 0, 0, 0; ...
    m(1), 0, 0, 0, Ixx(1), Iyy(1), Izz(1), 0, 0, 0; ...
    ];

E = 210e9;
G = E/2/1.2;
R = [0.003,0.004,0.005,0.006,0.0064,0.0083]/2;
r = [0.002,0.003,0.004,0.005,0.005,0.007]/2;
A = pi*(R.^2-r.^2);
Iy = pi/4*(R.^4-r.^4);
% Make forward/backward bending stiffer than upward/downward
Iz = 10*Iy;
J = pi/2*(R.^4-r.^4);
% node 1 idx, node 2 idx, A, Iy, Iz, E, J, G
param.stiff = [ ...
    1, 2, A(1), Iy(1), Iz(1), E, J(1), G; ...
    2, 3, A(2), Iy(2), Iz(2), E, J(2), G; ...
    3, 4, A(3), Iy(3), Iz(3), E, J(3), G; ...
    4, 5, A(4), Iy(4), Iz(4), E, J(4), G; ...
    5, 6, A(5), Iy(5), Iz(5), E, J(5), G; ...
    6, 7, A(6), Iy(6), Iz(6), E, J(6), G; ...
    7, 8, A(6), Iy(6), Iz(6), E, J(6), G; ...
    8, 9, A(5), Iy(5), Iz(5), E, J(5), G; ...
    9, 10, A(4), Iy(4), Iz(4), E, J(4), G; ...
    10, 11, A(3), Iy(3), Iz(3), E, J(3), G; ...
    11, 12, A(2), Iy(2), Iz(2), E, J(2), G; ...
    12, 13, A(1), Iy(1), Iz(1), E, J(1), G; ...
    ];

